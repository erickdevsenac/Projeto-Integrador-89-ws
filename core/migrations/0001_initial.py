<<<<<<< HEAD
# Generated by Django 5.2.3 on 2025-11-11 21:52
=======
# Generated by Django 5.2.3 on 2025-11-07 18:58
>>>>>>> df9a16c2f776bfdd9c2f2312d611fe3f2cb7fce3

import core.models.pedido
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
        ('contenttypes', '0002_remove_content_type_name'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='CategoriaDica',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100, unique=True)),
                ('slug', models.SlugField(max_length=100, unique=True)),
            ],
            options={
                'verbose_name': 'Categoria de Dica',
                'verbose_name_plural': 'Categorias de Dicas',
            },
        ),
        migrations.CreateModel(
            name='CategoriaProduto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100, unique=True)),
                ('slug', models.SlugField(help_text="Versão do nome amigável para URLs, ex: 'dicas-sustentaveis'", max_length=100, unique=True)),
            ],
            options={
                'verbose_name': 'Categoria de Produto',
                'verbose_name_plural': 'Categorias de Produtos',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='CategoriaReceita',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100, unique=True)),
                ('slug', models.SlugField(max_length=100, unique=True)),
            ],
        ),
        migrations.CreateModel(
            name='EquipeDev',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=80)),
                ('link_git', models.URLField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='FaleConosco',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100)),
                ('email', models.EmailField(max_length=254)),
                ('mensagem', models.TextField(help_text='conteudo da mensagem')),
                ('data_envio', models.DateTimeField(auto_now_add=True)),
                ('status', models.CharField(choices=[('NOVA', 'Nova'), ('RESPONDIDA', 'Respondida'), ('FECHADA', 'Fechada')], default='NOVA', max_length=10)),
            ],
        ),
        migrations.CreateModel(
            name='Cupom',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('codigo', models.CharField(help_text='Código que o cliente irá usar (ex: PROMO10)', max_length=50, unique=True)),
                ('nome', models.CharField(help_text='Nome descritivo do cupom', max_length=100)),
                ('descricao', models.TextField(blank=True, help_text='Descrição detalhada da promoção')),
                ('tipo_desconto', models.CharField(choices=[('PERCENTUAL', '% Percentual'), ('VALOR_FIXO', 'R$ Valor Fixo')], default='PERCENTUAL', max_length=20)),
                ('valor_desconto', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0.01)])),
                ('data_inicio', models.DateTimeField(default=django.utils.timezone.now, help_text='Data de início da validade do cupom')),
                ('data_validade', models.DateTimeField(blank=True, help_text='O cupom não será válido após esta data. Deixe em branco para não expirar.', null=True)),
                ('limite_uso', models.PositiveIntegerField(default=1, help_text='Quantas vezes este cupom pode ser usado no total.')),
                ('valor_minimo_compra', models.DecimalField(decimal_places=2, default=0.0, help_text='Valor mínimo da compra para aplicar o cupom', max_digits=10)),
                ('valor_maximo_desconto', models.DecimalField(blank=True, decimal_places=2, help_text='Valor máximo de desconto (apenas para cupons percentuais)', max_digits=10, null=True)),
                ('ativo', models.BooleanField(default=True)),
                ('usos_realizados', models.PositiveIntegerField(default=0, editable=False, help_text='Contador de usos realizados')),
                ('categorias_permitidas', models.ManyToManyField(blank=True, help_text='Categorias onde o cupom pode ser aplicado (vazio = todas)', to='core.categoriaproduto')),
            ],
            options={
                'verbose_name': 'Cupom',
                'verbose_name_plural': 'Cupons',
                'ordering': ['-data_criacao'],
            },
        ),
        migrations.CreateModel(
            name='Dica',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('titulo', models.CharField(max_length=200)),
                ('resumo', models.CharField(help_text='Um resumo curto que aparecerá no card da dica.', max_length=255)),
                ('conteudo', models.TextField(help_text='O conteúdo completo da dica.')),
                ('imagem', models.ImageField(blank=True, null=True, upload_to='dicas/')),
                ('publicada', models.BooleanField(default=True)),
                ('data_publicacao', models.DateTimeField(default=django.utils.timezone.now)),
                ('autor', models.ForeignKey(help_text='O autor da dica.', null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('categoria', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='dicas', to='core.categoriadica')),
            ],
            options={
                'ordering': ['-data_publicacao'],
            },
        ),
        migrations.CreateModel(
            name='Pedido',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('numero_pedido', models.CharField(default=core.models.pedido.gerar_numero_pedido, editable=False, max_length=30, unique=True)),
                ('valor_produtos', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('valor_frete', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('valor_desconto', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('valor_total', models.DecimalField(decimal_places=2, max_digits=10)),
                ('endereco_entrega', models.TextField()),
                ('forma_pagamento', models.CharField(choices=[('CARTAO_CREDITO', 'Cartão de Crédito'), ('PIX', 'Pix'), ('BOLETO', 'Boleto Bancário')], default='PIX', max_length=20)),
                ('status_pagamento', models.CharField(choices=[('AGUARDANDO', 'Aguardando Pagamento'), ('PAGO', 'Pago'), ('FALHA', 'Falha no Pagamento'), ('CANCELADO', 'Cancelado')], default='AGUARDANDO', max_length=20)),
                ('observacoes', models.TextField(blank=True)),
                ('cupom_aplicado', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pedidos_utilizados', to='core.cupom')),
            ],
            options={
                'verbose_name': 'Pedido',
                'verbose_name_plural': 'Pedidos',
                'ordering': ['-data_criacao'],
            },
        ),
        migrations.CreateModel(
            name='Perfil',
            fields=[
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('usuario', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, primary_key=True, serialize=False, to=settings.AUTH_USER_MODEL)),
                ('tipo', models.CharField(choices=[('CLIENTE', 'Cliente'), ('VENDEDOR', 'Vendedor'), ('ONG', 'ONG')], max_length=10)),
                ('foto_perfil', models.ImageField(blank=True, help_text='Foto do perfil ou logo da empresa/ONG.', null=True, upload_to='fotos_perfil/')),
                ('telefone', models.CharField(help_text='Telefone com DDD, ex: (11) 99999-9999', max_length=20)),
                ('endereco', models.CharField(max_length=255)),
                ('cep', models.CharField(blank=True, help_text='CEP no formato 00000-000', max_length=10)),
                ('cidade', models.CharField(blank=True, max_length=100)),
                ('estado', models.CharField(blank=True, help_text='Sigla do estado, ex: SP', max_length=2)),
                ('nome_completo', models.CharField(blank=True, help_text='Nome completo do cliente.', max_length=255, verbose_name='Nome Completo')),
                ('nome_negocio', models.CharField(blank=True, help_text='O nome comercial do vendedor ou da ONG.', max_length=255, verbose_name='Nome da Loja/ONG')),
                ('cnpj', models.CharField(blank=True, help_text='Obrigatório para Vendedores e ONGs.', max_length=18, null=True, unique=True, verbose_name='CNPJ')),
                ('descricao_parceiro', models.TextField(blank=True, help_text='Uma breve descrição sobre o parceiro.', verbose_name='Descrição da Empresa/ONG')),
                ('imagem_carrossel1', models.ImageField(blank=True, null=True, upload_to='carrossel/')),
                ('imagem_carrossel2', models.ImageField(blank=True, null=True, upload_to='carrossel/')),
                ('imagem_carrossel3', models.ImageField(blank=True, null=True, upload_to='carrossel/')),
                ('objetivo', models.TextField(blank=True, verbose_name='Objetivos da ONG')),
                ('avaliacao_media', models.DecimalField(decimal_places=2, default=0.0, help_text='Avaliação média do vendedor (0-5).', max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)])),
                ('total_avaliacoes', models.PositiveIntegerField(default=0)),
                ('verificado', models.BooleanField(default=False, help_text='Perfil verificado pela administração.')),
                ('ativo', models.BooleanField(default=True, help_text='Perfil ativo no sistema.')),
            ],
            options={
                'verbose_name': 'Perfil',
                'verbose_name_plural': 'Perfis',
                'indexes': [models.Index(fields=['tipo', 'ativo'], name='core_perfil_tipo_fccd27_idx'), models.Index(fields=['cidade', 'estado'], name='core_perfil_cidade_e1c22e_idx')],
            },
        ),
        migrations.CreateModel(
            name='PedidoVendedor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('status', models.CharField(choices=[('AGUARDANDO', 'Aguardando Aprovação'), ('EM_PREPARO', 'Em Preparo'), ('A_CAMINHO', 'A Caminho'), ('ENTREGUE', 'Entregue'), ('CANCELADO', 'Cancelado')], default='AGUARDANDO', max_length=20)),
                ('valor_subtotal', models.DecimalField(decimal_places=2, help_text='Valor total dos itens deste vendedor neste pedido.', max_digits=10)),
                ('codigo_rastreamento', models.CharField(blank=True, max_length=50)),
                ('pedido_principal', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sub_pedidos', to='core.pedido')),
                ('vendedor', models.ForeignKey(limit_choices_to={'tipo': 'VENDEDOR'}, on_delete=django.db.models.deletion.PROTECT, related_name='pedidos_recebidos', to='core.perfil')),
            ],
            options={
                'verbose_name': 'Sub-Pedido (Vendedor)',
                'verbose_name_plural': 'Sub-Pedidos (Vendedores)',
                'ordering': ['-data_criacao'],
            },
        ),
        migrations.AddField(
            model_name='pedido',
            name='cliente',
            field=models.ForeignKey(limit_choices_to={'tipo': 'CLIENTE'}, on_delete=django.db.models.deletion.PROTECT, related_name='pedidos', to='core.perfil'),
        ),
        migrations.CreateModel(
            name='Notificacao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo', models.CharField(choices=[('PEDIDO', 'Notificação de Pedido'), ('PROMOCAO', 'Promoção'), ('CUPOM', 'Cupom de Desconto'), ('NOVIDADE', 'Novidade do Sistema/App')], max_length=10, verbose_name='Tipo de Notificação')),
                ('titulo', models.CharField(max_length=255, verbose_name='Título')),
                ('mensagem', models.TextField(verbose_name='Mensagem Completa')),
                ('url_destino', models.CharField(blank=True, max_length=255, null=True, verbose_name='URL de Destino')),
                ('lida', models.BooleanField(default=False, verbose_name='Lida')),
                ('data_criacao', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notificacoes', to='core.perfil', verbose_name='Usuário')),
            ],
            options={
                'verbose_name': 'Notificação',
                'verbose_name_plural': 'Notificações',
                'ordering': ['-data_criacao'],
            },
        ),
        migrations.CreateModel(
            name='Doacao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('descricao', models.TextField(help_text='Descrição dos itens doados')),
                ('quantidade_doada', models.PositiveIntegerField()),
                ('data_doacao', models.DateTimeField()),
                ('status', models.CharField(choices=[('AGUARDANDO', 'Aguardando Retirada'), ('CONCLUIDA', 'Concluída'), ('CANCELADA', 'Cancelada')], default='AGUARDANDO', max_length=20)),
                ('doador', models.ForeignKey(help_text='Vendedor que está doando', limit_choices_to={'tipo': 'VENDEDOR'}, on_delete=django.db.models.deletion.PROTECT, related_name='doacoes_feitas', to='core.perfil')),
                ('ong', models.ForeignKey(limit_choices_to={'tipo': 'ONG'}, on_delete=django.db.models.deletion.PROTECT, related_name='doacoes_recebidas', to='core.perfil')),
            ],
            options={
                'verbose_name': 'Doacão',
                'verbose_name_plural': 'Doações',
            },
        ),
        migrations.AddField(
            model_name='cupom',
            name='vendedores_permitidos',
            field=models.ManyToManyField(blank=True, help_text='Vendedores onde o cupom pode ser aplicado (vazio = todos)', limit_choices_to={'tipo': 'VENDEDOR'}, to='core.perfil'),
        ),
        migrations.CreateModel(
            name='Carrinho',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('usuario', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='carrinho', to='core.perfil')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Produto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('preco', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0.01)], verbose_name='Preço de Venda')),
                ('preco_original', models.DecimalField(blank=True, decimal_places=2, help_text='Preço original do produto, antes do desconto.', max_digits=10, null=True)),
                ('motivo_desconto', models.CharField(blank=True, choices=[('VALIDADE', 'Próximo da Validade'), ('ESTETICA', 'Defeito Estético'), ('EXCESSO', 'Excesso de Estoque')], help_text='O motivo pelo qual este produto está com desconto.', max_length=10, null=True)),
                ('nome', models.CharField(max_length=200)),
                ('descricao', models.TextField(blank=True)),
                ('imagem_principal', models.ImageField(blank=True, null=True, upload_to='produtos/')),
                ('quantidade_estoque', models.PositiveIntegerField(default=0)),
                ('estoque_minimo', models.PositiveIntegerField(default=1, help_text='Quantidade mínima para alerta de estoque baixo')),
                ('tipo_quantidade', models.CharField(blank=True, choices=[('PESA', 'Kg'), ('MEDE', 'Lt'), ('QUANTIA', 'Unidade')], null=True)),
                ('codigo_produto', models.CharField(blank=True, help_text='Código de barras ou SKU. Será gerado automaticamente se deixado em branco.', max_length=50, unique=True, verbose_name='Código (SKU)')),
                ('data_validade', models.DateField(blank=True, help_text='Importante para produtos perecíveis.', null=True, verbose_name='Data de Validade')),
                ('ativo', models.BooleanField(default=True, help_text="Desmarque para 'pausar' o anúncio do produto.")),
                ('destaque', models.BooleanField(default=False, help_text='Marque para destacar o produto na página inicial.')),
                ('visualizacoes', models.PositiveIntegerField(default=0, editable=False)),
                ('categoria', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='produtos', to='core.categoriaproduto')),
                ('vendedor', models.ForeignKey(limit_choices_to={'tipo': 'VENDEDOR'}, on_delete=django.db.models.deletion.CASCADE, related_name='produtos', to='core.perfil')),
            ],
            options={
                'verbose_name': 'Produto',
                'verbose_name_plural': 'Produtos',
                'ordering': ['-data_criacao'],
            },
        ),
        migrations.CreateModel(
            name='PacoteSurpresa',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('tipo_conteudo', models.CharField(blank=True, help_text="Ex: 'Frutas e Vegetais', 'Produtos de Padaria', 'Itens de Mercearia'", max_length=100)),
                ('instrucoes_especiais', models.TextField(blank=True, help_text="Instruções para o cliente sobre o pacote (ex: 'consumir em 2 dias').")),
                ('data_disponibilidade_inicio', models.DateField(blank=True, help_text='Data a partir da qual o pacote estará disponível.', null=True)),
                ('data_disponibilidade_fim', models.DateField(blank=True, help_text='Data até a qual o pacote estará disponível.', null=True)),
                ('nome', models.CharField(default='Pacote Surpresa do Dia', max_length=100)),
                ('descricao', models.TextField(help_text='Ex: Contém uma seleção de legumes e verduras do dia.')),
                ('preco', models.DecimalField(decimal_places=2, max_digits=10)),
                ('imagem', models.ImageField(blank=True, null=True, upload_to='pacotes/')),
                ('quantidade_estoque', models.PositiveIntegerField(default=0)),
                ('ativo', models.BooleanField(default=True)),
                ('vendedor', models.ForeignKey(limit_choices_to={'tipo': 'VENDEDOR'}, on_delete=django.db.models.deletion.CASCADE, to='core.perfil')),
                ('produtos_possiveis', models.ManyToManyField(blank=True, help_text='Produtos que podem compor este pacote surpresa (para controle interno, não visível ao cliente).', to='core.produto')),
            ],
            options={
                'verbose_name': 'Pacote Surpresa',
                'verbose_name_plural': 'Pacotes Surpresa',
            },
        ),
        migrations.CreateModel(
            name='ItemPedido',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('quantidade', models.PositiveIntegerField(validators=[django.core.validators.MinValueValidator(1)])),
                ('preco_unitario', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Preço Unitário na Compra')),
                ('pacote_surpresa', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='itens_pedidos', to='core.pacotesurpresa')),
                ('sub_pedido', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itens', to='core.pedidovendedor')),
                ('produto', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='itens_pedidos', to='core.produto')),
            ],
            options={
                'verbose_name': 'Item do Pedido',
                'verbose_name_plural': 'Itens dos Pedidos',
            },
        ),
        migrations.CreateModel(
            name='ItemCarrinho',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('quantidade', models.PositiveIntegerField(default=1)),
                ('carrinho', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='itens', to='core.carrinho')),
                ('pacote', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='core.pacotesurpresa')),
                ('produto', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='core.produto')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Receita',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100)),
                ('descricao', models.TextField(blank=True)),
                ('tempo_preparo', models.PositiveIntegerField(help_text='Tempo em minutos')),
                ('rendimento', models.CharField(help_text="Ex: '8 porções' ou 'Serve 4 pessoas'", max_length=50)),
                ('imagem', models.ImageField(blank=True, help_text='Imagem de apresentação do prato', null=True, upload_to='receitas/')),
                ('data_criacao', models.DateTimeField(default=django.utils.timezone.now)),
                ('disponivel', models.BooleanField(default=True)),
                ('autor', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='receitas_criadas', to=settings.AUTH_USER_MODEL)),
                ('categoria', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='receitas', to='core.categoriareceita')),
            ],
            options={
                'verbose_name': 'Receita',
                'verbose_name_plural': 'Receitas',
            },
        ),
        migrations.CreateModel(
            name='Ingrediente',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(max_length=100)),
                ('quantidade', models.CharField(max_length=100)),
                ('receita', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='ingredientes', to='core.receita')),
            ],
        ),
        migrations.CreateModel(
            name='EtapaPreparo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ordem', models.PositiveIntegerField(help_text='A ordem do passo (1, 2, 3...)')),
                ('descricao', models.TextField()),
                ('receita', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='etapas', to='core.receita')),
            ],
            options={
                'ordering': ['ordem'],
            },
        ),
        migrations.CreateModel(
            name='Avaliacao',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('data_criacao', models.DateTimeField(auto_now_add=True)),
                ('data_atualizacao', models.DateTimeField(auto_now=True)),
                ('nota', models.PositiveIntegerField(help_text='Nota de 1 a 5 estrelas', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('texto', models.TextField(blank=True, help_text='Escreva um comentário (opcional)', verbose_name='Comentário')),
                ('object_id', models.PositiveIntegerField()),
                ('autor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='avaliacoes_feitas', to=settings.AUTH_USER_MODEL)),
                ('content_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='contenttypes.contenttype')),
            ],
            options={
                'ordering': ['-data_criacao'],
                'indexes': [models.Index(fields=['content_type', 'object_id'], name='core_avalia_content_cfe914_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='cupom',
            index=models.Index(fields=['codigo'], name='core_cupom_codigo_c0be34_idx'),
        ),
        migrations.AddIndex(
            model_name='cupom',
            index=models.Index(fields=['ativo', 'data_validade'], name='core_cupom_ativo_295b79_idx'),
        ),
        migrations.AddIndex(
            model_name='produto',
            index=models.Index(fields=['ativo', 'quantidade_estoque'], name='core_produt_ativo_858f05_idx'),
        ),
        migrations.AddIndex(
            model_name='produto',
            index=models.Index(fields=['categoria', 'ativo'], name='core_produt_categor_da8b0a_idx'),
        ),
        migrations.AddIndex(
            model_name='produto',
            index=models.Index(fields=['vendedor', 'ativo'], name='core_produt_vendedo_7d53f0_idx'),
        ),
    ]
